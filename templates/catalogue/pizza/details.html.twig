{% extends "base.html.twig" %}

{% block body %}

	<h1 class="text-center">{{ page_title }}</h1>

	<div class="container text-center">
		<div class="row">
			<div class="col">
				<a href="{{ path('index') }}">&#60;&#60;Back to Pizza list</a>
			</div>
		</div>
	</div>

	<div class="card-content-wrapper">
		<div class="card details-content" style="width: 40rem;">

			<div class="card-body">

				{% for message in app.flashes('warning') %}
					<div class="alert alert-danger" role="alert">
						{{ message }}
					</div>
				{% endfor %}

				{% for message in app.flashes('notice') %}
					<div class="alert alert-success" role="alert">
						{{ message }}
					</div>
				{% endfor %}


				<div class="container">
					<div class="row">
						<div class="col">
							<h2>Ingridients</h2>
						</div>
						<div class="col d-flex justify-content-end">
							<a href="{{ path('ingridient_pizza_append_ingridient_list', {id: pizza_id})}}" class="btn btn-success d-flex align-items-center">Append ingridient</a>
						</div>
					</div>
					<div class="row">
						<div class="col">
							<h5>Pizza Total price:
								{{total_price}}€</h5>
						</div>
					</div>
				</div>

				<table class="table">
					<thead>
						<tr>
							<th scope="col">#</th>
							<th scope="col">Name</th>
							<th scope="col">Price</th>
							<th scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						{% for ingridient in ingridient_list %}

							<tr>
								<th scope="row">{{ ingridient.id }}</th>

								<td>{{ ingridient.name }}</td>

								<td>{{ ingridient.price }}€</td>

								<td>
									<a href="{{ path('ingridient_update', {id: ingridient.id}) }}" class="btn btn-secondary">Modify</a>
									<a href="{{ path('pizza_ingridient_remove', {pizza_id: pizza_id, ingridient_id: ingridient.id}) }}" class="btn btn-danger">Remove</a>
								</td>
							</tr>
						{% endfor %}

					</tbody>
				</table>

			</div>
		</div>
	</div>
{% endblock %}
